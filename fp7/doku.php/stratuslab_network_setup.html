<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
<head>
  <title>  StratusLab :: StratusLab network setup  </title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="Author" content="Marcin Mierzejewski @ Zenzire"/>
  <meta name="Keywords" content="StratusLab,StratusLab network setup"/>
  <meta name="Description" content="StratusLabStratusLab network setup"/>
  <meta name="generator" content="DokuWiki" />
<meta name="robots" content="index,follow" />
<meta name="date" content="2012-01-19T11:59:38+0100" />
<meta name="keywords" content="stratuslab_network_setup" />
<link rel="search" type="application/opensearchdescription+xml" href="../lib/exe/opensearch.php" title="StratusLab" />
<link rel="start" href="../index.html" />
<link rel="contents" href="stratuslab_network_setup.html?do=index" title="Sitemap" />
<link rel="canonical" href="stratuslab_network_setup.html" />
<link rel="stylesheet" media="screen" type="text/css" href="../lib/exe/css.php?t=stratuslab-theme&amp;tseed=1349958590" />
<link rel="stylesheet" media="all" type="text/css" href="../lib/exe/css.php?s=all&amp;t=stratuslab-theme&amp;tseed=1349958590" />
<link rel="stylesheet" media="print" type="text/css" href="../lib/exe/css.php?s=print&amp;t=stratuslab-theme&amp;tseed=1349958590" />
<script type="text/javascript" ><!--//--><![CDATA[//><!--
var NS='';var JSINFO = {"id":"stratuslab_network_setup","namespace":""};
//--><!]]></script>
<script type="text/javascript" charset="utf-8" src="../lib/exe/js.php?tseed=1349958590" ></script>
  <link rel="alternate" type="application/rss+xml" title="News"
     href="../feed.php?ns=news.html&amp;linkto=page" />

  <link rel="stylesheet" media="screen" type="text/css" href="../lib/tpl/stratuslab-theme/css/design.css" />
  <link rel="stylesheet" media="screen" type="text/css" href="../lib/tpl/stratuslab-theme/css/gallery.css" />
  <link rel="stylesheet" type="text/css" href="../lib/tpl/stratuslab-theme/css/960.css" media="screen" />

  <script type="text/javascript">

   var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-18570821-1']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
 })();

</script>
</head>

<body>
  <div class="Page">
		<div class="Header">

			<div class="Banner">
			      </div>

			<div class="MenuContainer"><div class="Menu" id="level1">
<p>

<!-- main menu under the banner -->
<div class="mainmenu">
<span class="menuitem">
<a class="menulink" href="../index.php">Home</a>
</span>
<span class="menuitem">
<a class="menulink" href="./release:install.html">Install</a>
</span>
<span class="menuitem">
<a class="menulink" href="support.html">Support</a>
</span>
<span class="menuitem">
<a class="menulink" href="documentation.html">Documentation</a>
</span>
<span class="menuitem">
<a class="menulink" href="./roadmap:project_roadmap.html">Roadmap</a>
</span>
<span class="menuitem">
<a class="menulink" href="news.html">News</a>
</span>
<span class="menuitem">
<a class="menulink" href="./project:info.html">About</a>
</span>
</div>


</p>
</div><div class="Menu" id="level2"></div>
		</div> 


    	
		<div class="Content">
				<!-- TOC START -->
<div class="toc">
<div class="tocheader toctoggle" id="toc__header">Table of Contents</div>
<div id="toc__inside">

<ul class="toc">
<li class="level1"><div class="li"><span class="li"><a href="stratuslab_network_setup#stratuslab_network_setup.html" class="toc">StratusLab network setup</a></span></div>
<ul class="toc">
<li class="level2"><div class="li"><span class="li"><a href="stratuslab_network_setup.html#cloud_system_configuration" class="toc">Cloud system configuration</a></span></div></li>
<li class="level2"><div class="li"><span class="li"><a href="stratuslab_network_setup.html#network_routing" class="toc">Network routing</a></span></div></li></ul>
</li></ul>
</div>
</div>
<!-- TOC END -->

<h1 class="sectionedit1"><a name="stratuslab_network_setup" id="stratuslab_network_setup">StratusLab network setup</a></h1>
<div class="level1">

<p>
The StratusLab distribution uses OpenNebula to manage the virtual machines. This cloud system allows users to define their own network for their machines.
</p>

<p>
This powerful feature can be hard to understand and to configure for normal users, that&#039;s why StratusLab has made the choice to create by default two networks available to all users.
</p>

<p>
A public network (named <code>public</code>), which can be reach from the outside and a private network (named <code>private</code>), reachable only inside the cloud installation infrastructure.
</p>

<p>
These two networks are automatically created at installation by the <code>stratus-install</code> tool. If you install your cloud by hand, you have to create it, otherwise tools like <code>stratus-run-instance</code> won&#039;t work.
</p>

</div>

<h2 class="sectionedit2"><a name="cloud_system_configuration" id="cloud_system_configuration">Cloud system configuration</a></h2>
<div class="level2">

<p>

Network configuration is done with the <code>stratus-config</code>.
Parameters for the network are:

</p>
<ul>
<li class="level1"><div class="li"> <code>network_addr</code>: The network address of your infrastructure. This is independent of the network type, this allows, for example, the <code>private</code> network to reach machines outside the infrastructure.</div>
</li>
<li class="level1"><div class="li"> <code>network_mask</code>: Netmask of your infrastructure (like 16 for 255.255.0.0)</div>
</li>
<li class="level1"><div class="li"> <code>default_gateway</code>: The default gateway of your infrastructure</div>
</li>
<li class="level1"><div class="li"> <code>one_public_network</code>: Public network address</div>
</li>
<li class="level1"><div class="li"> <code>one_public_network_addr</code>: If you want to create a fixed network, define available IPs separate by space. Leave this parameter blank to create a ranged network</div>
</li>
<li class="level1"><div class="li"> <code>one_public_network_size</code>: Number of available IP in the public network (can be integer, B or C). If <code>one_public_network_addr</code> his define this parameters is not used.</div>
</li>
<li class="level1"><div class="li"> Same parameters are available for the private network (<code>one_private_network</code>, <code>one_private_network_size</code>, <code>one_private_network_addr</code>)</div>
</li>
</ul>

</div>

<h2 class="sectionedit3"><a name="network_routing" id="network_routing">Network routing</a></h2>
<div class="level2">

<p>

To allow virtual machines to communicate with physical machines from the private network interface, routes have to be added (on the gateway or the host from which you want to communicate with the VMs).
</p>

<p>
On linux systems, routes can be added with the <code>route</code> command:

</p>
<pre class="code">  route add -net &lt;network_address&gt;/&lt;network_mask&gt; dev &lt;network_interface&gt;</pre>

<p>

By default a route to the private network is added on the frontend machine by the <code>stratus-install</code> command.
</p>

<p>
Routes on the virtual machines are automatically set by the contextualization script.
</p>

</div>

		</div>
  
    
        <div class="stylefoot">
      <div class="meta">
        <div class="doc">
	  <!--
          stratuslab_network_setup.txt &middot; Last modified: 2012/01/19 11:59 (external edit)	  -->
        </div>
        <div class="user">
                  </div>
      </div>
          </div>
    
<div class="container_12" id="footer">

<div class="clear">&nbsp;</div>
<div class="footspacer">&nbsp;</div>


<div class="grid_2 push_10 omega">
<a class="footerlink" href="mailto:info@stratuslab.eu">General queries</a><br>
<a class="footerlink" href="mailto:support@stratuslab.eu">Support queries</a>
<div class="clear">&nbsp;</div>
<div class="spacer">&nbsp;</div>
<a class="footerlink" href="internal.html">Go to project internal pages</a> 
</div>

<div class="clear">&nbsp;</div>
<div class="spacer">&nbsp;</div>




<div class="clear">&nbsp;</div>
<div class="spacer">&nbsp;</div>


<div class="grid_1 push_2 alpha">
<div class="partnerlink">
<a class="imagelink" href="./project:cnrs.html"><img src="../lib/tpl/stratuslab-theme/images/partnerlogos/cnrs-logo.png"></a></a>
<a class="partnerlink" href="./project:cnrs.html">CNRS</a>
</div>
</div>
<div class="grid_1 push_2">
<div class="partnerlink">
<a class="imagelink" href="./project:grnet.html"><img src="../lib/tpl/stratuslab-theme/images/partnerlogos/grnet-logo.png"></a><br>
<a class="partnerlink" href="./project:grnet.html">GRNET</a>
</div>
</div>
<div class="grid_1 push_2">
<div class="partnerlink">
<a class="imagelink" href="./project:sixsq.html"><img src="../lib/tpl/stratuslab-theme/images/partnerlogos/sixsq-logo.png"></a><br>
<a class="partnerlink" href="./project:sixsq.html">SixSq SÃ rl</a>
</div>
</div>
<div class="grid_1 push_2">
<div class="partnerlink">
<a class="imagelink" href="./project:ucm.html"><img src="../lib/tpl/stratuslab-theme/images/partnerlogos/ucm-logo.png"></a><br>
<a class="partnerlink" href="./project:ucm.html">UCM</a>
</div>
</div>
<div class="grid_1 push_2">
<div class="partnerlink">
<a class="imagelink" href="./project:tid.html"><img src="../lib/tpl/stratuslab-theme/images/partnerlogos/tid-logo.png"></a><br>
<a class="partnerlink" href="./project:tid.html">TID</a>
</div>
</div>
<div class="grid_1 push_2">
<div class="partnerlink">
<a class="imagelink" href="./project:tcd.html"><img src="../lib/tpl/stratuslab-theme/images/partnerlogos/tcd-logo.png"></a><br>
<a class="partnerlink" href="./project:tcd.html">TCD</a>
</div>
</div>
<div class="grid_1 push_4 omega">
<img src="../lib/tpl/stratuslab-theme/images/FP7-cap-CMYK.png">
</div>
<div class="grid_1 push_4">
<img src="../lib/tpl/stratuslab-theme/images/eu-flag-blue-yellow.png">
</div>
<!-- <div class="grid_2 push_3 omega">
<img src="images/e-infrastructure-logo.png">
</div> -->

<div class="spacer">&nbsp;</div>
<div class="grid_10 push_2">
The StratusLab project is co-funded by the European Community's Seventh Framework Programme (Capacities) Grant Agreement INFSO-RI-261552.
</div>
<div class="clear">&nbsp;</div>
<div class="spacer">&nbsp;</div>


</div> <!-- end container_12 div -->

	    </div>
</body>
</html>
